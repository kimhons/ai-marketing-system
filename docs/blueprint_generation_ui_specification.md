# Blueprint Generation UI - Specification

## 1. Overview

This document outlines the specification for the frontend User Interface (UI) for the Marketing Blueprint Generation feature of the AI Marketing System. The UI will allow users to input or load `BusinessIntakeData` and then view the comprehensive `BusinessBlueprint` generated by the `BlueprintService`.

## 2. Technology Stack

- **Framework:** Next.js (React)
- **Styling:** Tailwind CSS
- **State Management:** React Context API or Zustand, if needed for complex state.

## 3. Key Features & Components

### 3.1. Business Intake Data Input/Selection

-   **Purpose:** Allow users to provide the necessary business information for blueprint generation.
-   **Option A: Form Input (for new blueprints)**
    -   A multi-step form or a comprehensive single-page form to capture all fields defined in `BusinessIntakeData` (business name, industry, stage, goals, target audience, products/services, raw_responses which might include competitor info, current marketing efforts etc.).
    -   This could reuse or adapt components from the original intake form UI if that was developed.
-   **Option B: Load Existing Intake Data (if applicable)**
    -   If business intake data is stored and accessible via an API, a mechanism to search/select an existing business profile to generate a blueprint for.
-   **Submit Button:** "Generate Blueprint".

### 3.2. Blueprint Display Area

-   **Purpose:** Display the generated `BusinessBlueprint` in a structured and readable format.
-   **Layout:** A well-organized layout, potentially using tabs, accordions, or distinct sections for each part of the blueprint.
-   **Components for Each Blueprint Section:**
    -   **Executive Summary:** Display formatted text.
    -   **Business Profile Analysis:** Display formatted text (e.g., SWOT insights).
    -   **Refined Target Audience Personas:** Display each persona as a card or detailed section, showing name, demographics, psychographics, pain points, goals, and preferred channels.
    -   **Strategic Marketing Plan:** Display each strategic objective with its description, tactics, channels, and KPIs in a clear, possibly tabular or card-based format.
    -   **Channel Plan:** Display each channel and its recommended role.
    -   **Content Pillars/Themes:** Display as a list.
    -   **Lead Generation Funnel Outline:** Display formatted text describing the funnel stages.
    -   **Brand Voice & Messaging Guidelines:** Display formatted text.
    -   **KPI Measurement Framework:** Display KPIs and their measurement tools/methods.
    -   **Initial Action Plan (30-60-90 days):** Display the action items for each period in a structured way.
-   **States:**
    -   **Loading State:** Display a prominent loading indicator (e.g., "Generating your marketing blueprint, this may take a moment...") while the `BlueprintService` is processing.
    -   **Error State:** Display a user-friendly error message if blueprint generation fails (e.g., "Could not generate blueprint. Please check your input or try again later.").
    -   **Empty State (Before Generation):** A message prompting the user to input data or select a business.

### 3.3. (Optional) Blueprint Management Features

-   **Save Blueprint:** Button to explicitly save the generated blueprint (if not saved automatically).
-   **Load Existing Blueprint:** If blueprints are stored, a way to view previously generated blueprints for a business.
-   **Version History:** If multiple blueprint versions are stored, a way to view or compare them.

## 4. User Flow

1.  User navigates to the Blueprint Generation page.
2.  User provides `BusinessIntakeData` (either via form or by selecting an existing profile).
3.  User clicks "Generate Blueprint".
4.  UI displays a loading state.
5.  UI sends the intake data to a backend API endpoint that interfaces with the `BlueprintService`.
6.  Backend processes the request (generates and potentially saves the blueprint).
7.  Backend returns the generated `BusinessBlueprint` object (or an error).
8.  UI receives the response:
    -   If successful, it displays the blueprint in the Blueprint Display Area.
    -   If an error occurs, it displays the Error State.

## 5. API Interaction

-   **Generate Blueprint Endpoint (e.g., `/api/generate-blueprint`)**
    -   **Method:** POST
    -   **Request Payload (JSON):** `BusinessIntakeData` object.
    -   **Response Payload (JSON - Success):** `BusinessBlueprint` object.
    -   **Response Payload (JSON - Error):** `{ "success": false, "error": "Error message" }`
-   **(Optional) Get Blueprint Endpoint (e.g., `/api/blueprints/{blueprint_id}` or `/api/businesses/{business_id}/blueprints`)**
    -   **Method:** GET
    -   **Response Payload (JSON - Success):** `BusinessBlueprint` object or list of blueprints.

## 6. Directory Structure (Proposed)

```
/home/ubuntu/ai-marketing-system-new/
└── frontend/
    └── blueprint_generation_ui/
        ├── public/
        ├── src/
        │   ├── app/                     # Next.js App Router
        │   │   └── page.tsx             # Main page for blueprint generation
        │   ├── components/
        │   │   ├── IntakeDataForm.tsx   # Form for BusinessIntakeData
        │   │   ├── BlueprintDisplay.tsx # Main component to display all blueprint sections
        │   │   ├── PersonaCard.tsx
        │   │   ├── StrategyCard.tsx
        │   │   └── ... (other specific display components for blueprint sections)
        │   ├── services/                # API call functions
        │   │   └── blueprintService.ts
        │   └── lib/                     # Utility functions, types
        │       └── types.ts             # TypeScript interfaces (can share/extend from common types)
        ├── next.config.js
        ├── package.json
        ├── tsconfig.json
        └── tailwind.config.js
```

This specification provides a foundation. Specific UI elements and interactions will be refined during the development phase.

